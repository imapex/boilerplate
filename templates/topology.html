{% extends 'base_layout.html' %}
{% set active_sidebar = "topology" %}
{% block mainpanel %}

  <a target="_blank" href="/static/doc/index.html">NextUI Documentation</a>
  <div id="topology">
    <!-- dynamically generated by topology.js/data.js -->
  </div>

  <script>
  (function (nx) {
      /**
       * define application
       */
      var Shell = nx.define(nx.ui.Application, {
          methods: {
              start: function () {
                  //your application main entry

                  // initialize a topology
                  var topo = new nx.graphic.Topology({
                      // set the topology view's with and height
                      width: 800,
                      height: 550,
                      // node config
                      nodeConfig: {
                          // label display name from of node's model, could change to 'model.id' to show id
                          label: 'model.name',
                          "iconType": "switch"
                      },
                      // link config
                      linkConfig: {
                          // multiple link type is curve, could change to 'parallel' to use parallel link
                          linkType: 'curve'
                      },
                      // show node's icon, could change to false to show dot
                      showIcon: true
                  });

                  // set data to topology

                  topo.data({{ topo | safe }});
                  //attach topology to document
                  topo.attach(this);

              },
              getContainer: function () {
               return new nx.dom.Element(document.getElementById('topology'))
           }

          }
      });

      /**
       * create application instance
       */
      var shell = new Shell();

      /**
       * invoke start method
       */
      shell.start();
  })(nx);

  </script>



{% endblock %}
